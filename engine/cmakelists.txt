project(PolarisEngine LANGUAGES CXX)

cmake_minimum_required(VERSION 3.18.0)

set(CMAKE_CXX_STANDARD 20)

list(APPEND CMAKE_MODULE_PATH ${CMAKE_BINARY_DIR})
list(APPEND CMAKE_PREFIX_PATH ${CMAKE_BINARY_DIR})

#compile option
option(shared "build with dynamic link" ON)
option(unicode "build with unicode string" ON)
option(with_test "build with unit test" ON)
option(with_benchmark "build with benchmark" ON)

if(shared)
    add_compile_definitions(SHARED_LIB)
endif()

if(unicode)
    add_compile_definitions(UNICODE)
endif()

include(${CMAKE_SOURCE_DIR}/cmake/conan.cmake)

add_subdirectory(source)